{"dependencies":[{"name":"expo-modules-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":61,"index":61}}],"key":"fU8WLIPqoAGygnPbZ/QJiQQfXEY=","exportNames":["*"],"imports":1}},{"name":"./NativeVideoModule","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":62},"end":{"line":2,"column":52,"index":114}}],"key":"cl3kboQ0ImYt6XdlKY44aN3EghU=","exportNames":["*"],"imports":1}},{"name":"./resolveAssetSource","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":115},"end":{"line":3,"column":54,"index":169}}],"key":"qiXdfzfF08Pne6HL41q9H4FDwsA=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.createVideoPlayer = createVideoPlayer;\n  exports.useVideoPlayer = useVideoPlayer;\n  var _expoModulesCore = require(_dependencyMap[0], \"expo-modules-core\");\n  var _NativeVideoModule = require(_dependencyMap[1], \"./NativeVideoModule\");\n  var NativeVideoModule = _interopDefault(_NativeVideoModule);\n  var _resolveAssetSource = require(_dependencyMap[2], \"./resolveAssetSource\");\n  var resolveAssetSource = _interopDefault(_resolveAssetSource);\n  // TODO: Temporary solution until we develop a way of overriding prototypes that won't break the lazy loading of the module.\n  var replace = NativeVideoModule.default.VideoPlayer.prototype.replace;\n  NativeVideoModule.default.VideoPlayer.prototype.replace = function (source) {\n    var disableWarning = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    if (!disableWarning) {\n      console.warn('On iOS `VideoPlayer.replace` loads the asset data synchronously on the main thread, which can lead to UI freezes and will be deprecated in a future release. Switch to `replaceAsync` for better user experience.');\n    }\n    return replace.call(this, parseSource(source));\n  };\n  var replaceAsync = NativeVideoModule.default.VideoPlayer.prototype.replaceAsync;\n  NativeVideoModule.default.VideoPlayer.prototype.replaceAsync = function (source) {\n    return replaceAsync.call(this, parseSource(source));\n  };\n  /**\n   * Creates a direct instance of `VideoPlayer` that doesn't release automatically.\n   *\n   * > **info** For most use cases you should use the [`useVideoPlayer`](#usevideoplayer) hook instead. See the [Using the VideoPlayer Directly](#using-the-videoplayer-directly) section for more details.\n   * @param source\n   */\n  function createVideoPlayer(source) {\n    return new NativeVideoModule.default.VideoPlayer(parseSource(source));\n  }\n  /**\n   * Creates a `VideoPlayer`, which will be automatically cleaned up when the component is unmounted.\n   * @param source - A video source that is used to initialize the player.\n   * @param setup - A function that allows setting up the player. It will run after the player is created.\n   */\n  function useVideoPlayer(source, setup) {\n    var parsedSource = parseSource(source);\n    return (0, _expoModulesCore.useReleasingSharedObject)(() => {\n      var player = new NativeVideoModule.default.VideoPlayer(parsedSource);\n      setup?.(player);\n      return player;\n    }, [JSON.stringify(parsedSource)]);\n  }\n  function parseSource(source) {\n    if (typeof source === 'number') {\n      // TODO(@kitten): This seems to not handle the `null` case. Is this correct?\n      return {\n        uri: (0, resolveAssetSource.default)(source).uri\n      };\n    } else if (typeof source === 'string') {\n      return {\n        uri: source\n      };\n    }\n    if (typeof source?.assetId === 'number' && !source.uri) {\n      // TODO(@kitten): This seems to not handle the `null` case. Is this correct?\n      return {\n        ...source,\n        uri: (0, resolveAssetSource.default)(source.assetId).uri\n      };\n    }\n    return source;\n  }\n});","lineCount":74,"map":[[12,2,22,0,"exports"],[12,9,22,0],[12,10,22,0,"createVideoPlayer"],[12,27,22,0],[12,30,22,0,"createVideoPlayer"],[12,47,22,0],[13,2,30,0,"exports"],[13,9,30,0],[13,10,30,0,"useVideoPlayer"],[13,24,30,0],[13,27,30,0,"useVideoPlayer"],[13,41,30,0],[14,2,1,0],[14,6,1,0,"_expoModulesCore"],[14,22,1,0],[14,25,1,0,"require"],[14,32,1,0],[14,33,1,0,"_dependencyMap"],[14,47,1,0],[15,2,2,0],[15,6,2,0,"_NativeVideoModule"],[15,24,2,0],[15,27,2,0,"require"],[15,34,2,0],[15,35,2,0,"_dependencyMap"],[15,49,2,0],[16,2,2,0],[16,6,2,0,"NativeVideoModule"],[16,23,2,0],[16,26,2,0,"_interopDefault"],[16,41,2,0],[16,42,2,0,"_NativeVideoModule"],[16,60,2,0],[17,2,3,0],[17,6,3,0,"_resolveAssetSource"],[17,25,3,0],[17,28,3,0,"require"],[17,35,3,0],[17,36,3,0,"_dependencyMap"],[17,50,3,0],[18,2,3,0],[18,6,3,0,"resolveAssetSource"],[18,24,3,0],[18,27,3,0,"_interopDefault"],[18,42,3,0],[18,43,3,0,"_resolveAssetSource"],[18,62,3,0],[19,2,4,0],[20,2,5,0],[20,6,5,6,"replace"],[20,13,5,13],[20,16,5,16,"NativeVideoModule"],[20,33,5,33],[20,34,5,33,"default"],[20,41,5,33],[20,42,5,34,"VideoPlayer"],[20,53,5,45],[20,54,5,46,"prototype"],[20,63,5,55],[20,64,5,56,"replace"],[20,71,5,63],[21,2,6,0,"NativeVideoModule"],[21,19,6,17],[21,20,6,17,"default"],[21,27,6,17],[21,28,6,18,"VideoPlayer"],[21,39,6,29],[21,40,6,30,"prototype"],[21,49,6,39],[21,50,6,40,"replace"],[21,57,6,47],[21,60,6,50],[21,70,6,60,"source"],[21,76,6,66],[21,78,6,92],[22,4,6,92],[22,8,6,68,"disableWarning"],[22,22,6,82],[22,25,6,82,"arguments"],[22,34,6,82],[22,35,6,82,"length"],[22,41,6,82],[22,49,6,82,"arguments"],[22,58,6,82],[22,66,6,82,"undefined"],[22,75,6,82],[22,78,6,82,"arguments"],[22,87,6,82],[22,93,6,85],[22,98,6,90],[23,4,7,4],[23,8,7,8],[23,9,7,9,"disableWarning"],[23,23,7,23],[23,25,7,25],[24,6,8,8,"console"],[24,13,8,15],[24,14,8,16,"warn"],[24,18,8,20],[24,19,8,21],[24,230,8,232],[24,231,8,233],[25,4,9,4],[26,4,10,4],[26,11,10,11,"replace"],[26,18,10,18],[26,19,10,19,"call"],[26,23,10,23],[26,24,10,24],[26,28,10,28],[26,30,10,30,"parseSource"],[26,41,10,41],[26,42,10,42,"source"],[26,48,10,48],[26,49,10,49],[26,50,10,50],[27,2,11,0],[27,3,11,1],[28,2,12,0],[28,6,12,6,"replaceAsync"],[28,18,12,18],[28,21,12,21,"NativeVideoModule"],[28,38,12,38],[28,39,12,38,"default"],[28,46,12,38],[28,47,12,39,"VideoPlayer"],[28,58,12,50],[28,59,12,51,"prototype"],[28,68,12,60],[28,69,12,61,"replaceAsync"],[28,81,12,73],[29,2,13,0,"NativeVideoModule"],[29,19,13,17],[29,20,13,17,"default"],[29,27,13,17],[29,28,13,18,"VideoPlayer"],[29,39,13,29],[29,40,13,30,"prototype"],[29,49,13,39],[29,50,13,40,"replaceAsync"],[29,62,13,52],[29,65,13,55],[29,75,13,65,"source"],[29,81,13,71],[29,83,13,73],[30,4,14,4],[30,11,14,11,"replaceAsync"],[30,23,14,23],[30,24,14,24,"call"],[30,28,14,28],[30,29,14,29],[30,33,14,33],[30,35,14,35,"parseSource"],[30,46,14,46],[30,47,14,47,"source"],[30,53,14,53],[30,54,14,54],[30,55,14,55],[31,2,15,0],[31,3,15,1],[32,2,16,0],[33,0,17,0],[34,0,18,0],[35,0,19,0],[36,0,20,0],[37,0,21,0],[38,2,22,7],[38,11,22,16,"createVideoPlayer"],[38,28,22,33,"createVideoPlayer"],[38,29,22,34,"source"],[38,35,22,40],[38,37,22,42],[39,4,23,4],[39,11,23,11],[39,15,23,15,"NativeVideoModule"],[39,32,23,32],[39,33,23,32,"default"],[39,40,23,32],[39,41,23,33,"VideoPlayer"],[39,52,23,44],[39,53,23,45,"parseSource"],[39,64,23,56],[39,65,23,57,"source"],[39,71,23,63],[39,72,23,64],[39,73,23,65],[40,2,24,0],[41,2,25,0],[42,0,26,0],[43,0,27,0],[44,0,28,0],[45,0,29,0],[46,2,30,7],[46,11,30,16,"useVideoPlayer"],[46,25,30,30,"useVideoPlayer"],[46,26,30,31,"source"],[46,32,30,37],[46,34,30,39,"setup"],[46,39,30,44],[46,41,30,46],[47,4,31,4],[47,8,31,10,"parsedSource"],[47,20,31,22],[47,23,31,25,"parseSource"],[47,34,31,36],[47,35,31,37,"source"],[47,41,31,43],[47,42,31,44],[48,4,32,4],[48,11,32,11],[48,15,32,11,"useReleasingSharedObject"],[48,31,32,35],[48,32,32,35,"useReleasingSharedObject"],[48,56,32,35],[48,58,32,36],[48,64,32,42],[49,6,33,8],[49,10,33,14,"player"],[49,16,33,20],[49,19,33,23],[49,23,33,27,"NativeVideoModule"],[49,40,33,44],[49,41,33,44,"default"],[49,48,33,44],[49,49,33,45,"VideoPlayer"],[49,60,33,56],[49,61,33,57,"parsedSource"],[49,73,33,69],[49,74,33,70],[50,6,34,8,"setup"],[50,11,34,13],[50,14,34,16,"player"],[50,20,34,22],[50,21,34,23],[51,6,35,8],[51,13,35,15,"player"],[51,19,35,21],[52,4,36,4],[52,5,36,5],[52,7,36,7],[52,8,36,8,"JSON"],[52,12,36,12],[52,13,36,13,"stringify"],[52,22,36,22],[52,23,36,23,"parsedSource"],[52,35,36,35],[52,36,36,36],[52,37,36,37],[52,38,36,38],[53,2,37,0],[54,2,38,0],[54,11,38,9,"parseSource"],[54,22,38,20,"parseSource"],[54,23,38,21,"source"],[54,29,38,27],[54,31,38,29],[55,4,39,4],[55,8,39,8],[55,15,39,15,"source"],[55,21,39,21],[55,26,39,26],[55,34,39,34],[55,36,39,36],[56,6,40,8],[57,6,41,8],[57,13,41,15],[58,8,41,17,"uri"],[58,11,41,20],[58,13,41,22],[58,17,41,22,"resolveAssetSource"],[58,35,41,40],[58,36,41,40,"default"],[58,43,41,40],[58,45,41,41,"source"],[58,51,41,47],[58,52,41,48],[58,53,41,49,"uri"],[59,6,41,53],[59,7,41,54],[60,4,42,4],[60,5,42,5],[60,11,43,9],[60,15,43,13],[60,22,43,20,"source"],[60,28,43,26],[60,33,43,31],[60,41,43,39],[60,43,43,41],[61,6,44,8],[61,13,44,15],[62,8,44,17,"uri"],[62,11,44,20],[62,13,44,22,"source"],[63,6,44,29],[63,7,44,30],[64,4,45,4],[65,4,46,4],[65,8,46,8],[65,15,46,15,"source"],[65,21,46,21],[65,23,46,23,"assetId"],[65,30,46,30],[65,35,46,35],[65,43,46,43],[65,47,46,47],[65,48,46,48,"source"],[65,54,46,54],[65,55,46,55,"uri"],[65,58,46,58],[65,60,46,60],[66,6,47,8],[67,6,48,8],[67,13,48,15],[68,8,48,17],[68,11,48,20,"source"],[68,17,48,26],[69,8,48,28,"uri"],[69,11,48,31],[69,13,48,33],[69,17,48,33,"resolveAssetSource"],[69,35,48,51],[69,36,48,51,"default"],[69,43,48,51],[69,45,48,52,"source"],[69,51,48,58],[69,52,48,59,"assetId"],[69,59,48,66],[69,60,48,67],[69,61,48,68,"uri"],[70,6,48,72],[70,7,48,73],[71,4,49,4],[72,4,50,4],[72,11,50,11,"source"],[72,17,50,17],[73,2,51,0],[74,0,51,1],[74,3]],"functionMap":{"names":["<global>","NativeVideoModule.VideoPlayer.prototype.replace","NativeVideoModule.VideoPlayer.prototype.replaceAsync","createVideoPlayer","useVideoPlayer","useReleasingSharedObject$argument_0","parseSource"],"mappings":"AAA;kDCK;CDK;uDEE;CFE;OGO;CHE;OIM;oCCE;KDI;CJC;AMC;CNa"},"hasCjsExports":false},"type":"js/module"}]}